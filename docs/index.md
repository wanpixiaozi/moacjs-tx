<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [ecsign][1]
    -   [Parameters][2]
-   [Transaction][3]
    -   [Parameters][4]
    -   [Properties][5]
    -   [Examples][6]
    -   [toCreationAddress][7]
    -   [hash][8]
        -   [Parameters][9]
    -   [getChainId][10]
    -   [getSenderAddress][11]
    -   [getSenderPublicKey][12]
    -   [verifySignature][13]
    -   [sign][14]
        -   [Parameters][15]
    -   [getDataFee][16]
    -   [getBaseFee][17]
    -   [getUpfrontCost][18]
    -   [validate][19]
        -   [Parameters][20]
    -   [serialize][21]
    -   [toJSON][22]
    -   [from][23]
        -   [Properties][24]
-   [makeEven][25]
    -   [Parameters][26]
-   [toBN][27]
    -   [Parameters][28]
-   [numberToHex][29]
    -   [Parameters][30]
-   [toBuffer][31]
    -   [Parameters][32]
-   [bufferToHex][33]
    -   [Parameters][34]

## ecsign

[index.js:22-40][35]

ECDSA sign

### Parameters

-   `msgHash` **[Buffer][36]** 
-   `privateKey` **[Buffer][36]** 

Returns **[Object][37]** 

## Transaction

[index.js:76-422][38]

Creates a new transaction object.

### Parameters

-   `data` **([Buffer][36] \| [Array][39] \| [Object][37])** a transaction can be initialized with either a buffer containing the RLP serialized transaction or an array of buffers relating to each of the tx Properties, listed in order below in the exmple.Or lastly an Object containing the Properties of the transaction like in the Usage example.For Object and Arrays each of the elements can either be a Buffer, a hex-prefixed (0x) String , Number, or an object with a toBuffer method such as Bignum
    -   `data.nonce` **[Buffer][36]** nonce number
    -   `data.gasLimit` **[Buffer][36]** transaction gas limit
    -   `data.gasPrice` **[Buffer][36]** transaction gas price
    -   `data.to` **[Buffer][36]** to the to address
    -   `data.value` **[Buffer][36]** the amount of moac sent
    -   `data.data` **[Buffer][36]** this will contain the data of the message or the init of a contract
    -   `data.shardingFlag` **[Buffer][36]** choose sharding or not
    -   `data.chainId` **[Number][40]** moac chainId - mainnet: 99, testnet: 101

### Properties

-   `raw` **[Buffer][36]** The raw rlp encoded transaction

### Examples

```javascript
var rawTx = {
nonce: '0x00',
gasPrice: '0x09184e72a000',
gasLimit: '0x2710',
to: '0x0000000000000000000000000000000000000000',
value: '0x00',
data: '0x7f7465737432000000000000000000000000000000000000000000000000000000600057',
shardingFlag: 0,
// chainId - mainnet: 99, testnet: 101
chainId: 101
};
var tx = new Transaction(rawTx);
```

### toCreationAddress

[index.js:175-177][41]

If the tx's `to` is to the creation address

Returns **[Boolean][42]** 

### hash

[index.js:184-210][43]

Computes a sha3-256 hash of the serialized tx

#### Parameters

-   `includeSignature` **[Boolean][42]** whether or not to include the signature (optional, default `true`)

Returns **[Buffer][36]** 

### getChainId

[index.js:216-218][44]

returns chain ID

Returns **[Buffer][36]** 

### getSenderAddress

[index.js:224-231][45]

returns the sender's address

Returns **[Buffer][36]** 

### getSenderPublicKey

[index.js:237-242][46]

returns the public key of the sender

Returns **[Buffer][36]** 

### verifySignature

[index.js:248-266][47]

Determines if the signature is valid

Returns **[Boolean][42]** 

### sign

[index.js:295-364][48]

sign a transaction with a given private key

#### Parameters

-   `privateKey` **[Buffer][36]** Must be 32 bytes in length
    eth old func, moac never use itsign (privateKey) {
     const msgHash = this.hash(false)
     const sig = moacUtil.ecsign(msgHash, privateKey)
     if (this.\_chainId > 0) {
        sig.v += this.\_chainId _ 2 + 8
     }
     Object.assign(this, sig)
    }
    _

### getDataFee

[index.js:370-377][49]

The amount of gas paid for the data in this tx

Returns **BN** 

### getBaseFee

[index.js:383-389][50]

the minimum amount of gas the tx must have (DataFee + TxFee + Creation Fee)

Returns **BN** 

### getUpfrontCost

[index.js:395-399][51]

the up front amount that an account must have for this transaction to be valid

Returns **BN** 

### validate

[index.js:406-421][52]

validates the signature and checks to see if it has enough gas

#### Parameters

-   `stringError` **[Boolean][42]** whether to return a string with a description of why the validation failed or return a Boolean (optional, default `false`)

Returns **([Boolean][42] \| [String][53])** 

### serialize

[index.js:146-146][54]

-   **See: [moacjs-util][55]**

Returns the rlp encoding of the transaction

Returns **[Buffer][36]** 

### toJSON

[index.js:146-146][54]

-   **See: [moacjs-util][55]**

Returns the transaction in JSON format

Returns **([Array][39] \| [String][53])** 

### from

[index.js:153-157][56]

#### Properties

-   `from` **[Buffer][36]** (read only) sender address of this transaction, mathematically derived from other parameters.

## makeEven

[index.js:425-430][57]

### Parameters

-   `hex`  

## toBN

[index.js:439-445][58]

Takes an input and transforms it into an BN

### Parameters

-   `number` **([Number][40] \| [String][53] | BN)** , string, HEX string or BN

Returns **BN** BN

## numberToHex

[index.js:454-467][59]

Converts value to it's hex representation

### Parameters

-   `value` **([String][53] \| [Number][40] | BN)** 

Returns **[String][53]** 

## toBuffer

[index.js:482-504][60]

Attempts to turn a value into a `Buffer`. As input it supports `Buffer`, `String`, `Number`,
null/undefined, `BN` and other objects with a `toArray()` method.

### Parameters

-   `v` **any** the value

## bufferToHex

[index.js:511-514][61]

Converts a `Buffer` into a hex `String`

### Parameters

-   `buf` **[Buffer][36]** 

Returns **[String][53]** 

[1]: #ecsign

[2]: #parameters

[3]: #transaction

[4]: #parameters-1

[5]: #properties

[6]: #examples

[7]: #tocreationaddress

[8]: #hash

[9]: #parameters-2

[10]: #getchainid

[11]: #getsenderaddress

[12]: #getsenderpublickey

[13]: #verifysignature

[14]: #sign

[15]: #parameters-3

[16]: #getdatafee

[17]: #getbasefee

[18]: #getupfrontcost

[19]: #validate

[20]: #parameters-4

[21]: #serialize

[22]: #tojson

[23]: #from

[24]: #properties-1

[25]: #makeeven

[26]: #parameters-5

[27]: #tobn

[28]: #parameters-6

[29]: #numbertohex

[30]: #parameters-7

[31]: #tobuffer

[32]: #parameters-8

[33]: #buffertohex

[34]: #parameters-9

[35]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L22-L40 "Source code on GitHub"

[36]: https://nodejs.org/api/buffer.html

[37]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[38]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L76-L422 "Source code on GitHub"

[39]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[40]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[41]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L175-L177 "Source code on GitHub"

[42]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[43]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L184-L210 "Source code on GitHub"

[44]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L216-L218 "Source code on GitHub"

[45]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L224-L231 "Source code on GitHub"

[46]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L237-L242 "Source code on GitHub"

[47]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L248-L266 "Source code on GitHub"

[48]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L295-L364 "Source code on GitHub"

[49]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L370-L377 "Source code on GitHub"

[50]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L383-L389 "Source code on GitHub"

[51]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L395-L399 "Source code on GitHub"

[52]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L406-L421 "Source code on GitHub"

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[54]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L146-L146 "Source code on GitHub"

[55]: https://github.com/wanpixiaozi/moacjs-tx/blob/master/docs/index.md#defineproperties

[56]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L153-L157 "Source code on GitHub"

[57]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L425-L430 "Source code on GitHub"

[58]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L439-L445 "Source code on GitHub"

[59]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L454-L467 "Source code on GitHub"

[60]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L482-L504 "Source code on GitHub"

[61]: https://github.com/wanpixiaozi/moacjs-tx/blob/354514961f91831153e7cf596ad89b3b684b3bc3/index.js#L511-L514 "Source code on GitHub"
